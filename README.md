# ü™ü Dimvent ESPHome

**–£–º–Ω—ã–π –ø—Ä–∏–≤–æ–¥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ–∫–æ–Ω** –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–æ—Ç–æ—Ä-—Ä–µ–¥—É–∫—Ç–æ—Ä–∞ —Å –ø—Ä–æ—à–∏–≤–∫–æ–π ESPHome. 

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üéØ –¢–æ—á–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ú–∞–≥–Ω–∏—Ç–Ω—ã–π –¥–∞—Ç—á–∏–∫ AS5600 –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ä—ã—á–∞–≥–∞
- **üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≥—Ä–∞–¥** - –î–∞—Ç—á–∏–∫ —Ç–æ–∫–∞ INA226 –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–µ
- **ü§ñ –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞** - –õ–æ–∫–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ESPHome –∏ Home Assistant

## üõí –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ù–∞–∑–≤–∞–Ω–∏–µ | –°—Å—ã–ª–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- | :--- |
| –ú–æ—Ç–æ—Ä-—Ä–µ–¥—É–∫—Ç–æ—Ä 12V 6RPM | [Ozon](https://ozon.ru/t/GNIRneC) | –°–∏–ª–æ–≤–æ–π –ø—Ä–∏–≤–æ–¥ —Å –¥–≤—É–º—è –≤–∞–ª–∞–º–∏ |
| AS5600 + –º–∞–≥–Ω–∏—Ç | [Ali](https://aliexpress.ru/item/1005008249897817.html) | –ú–∞–≥–Ω–∏—Ç–Ω—ã–π —ç–Ω–∫–æ–¥–µ—Ä –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| INA226 | [Ali](https://aliexpress.ru/item/1005006369070438.html) | –î–∞—Ç—á–∏–∫ —Ç–æ–∫–∞ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã |
| Mini360 | [Ali](https://aliexpress.ru/item/1005008400769897.html) | –ü–æ–Ω–∏–∂–∞—é—â–∏–π DC-DC –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å |
| DRV8871 | [Ali](https://aliexpress.ru/order-list/5549620160767253) | –î—Ä–∞–π–≤–µ—Ä –¥–≤–∏–≥–∞—Ç–µ–ª—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PWM |
| –î–∏–æ–¥ |-| –î–∏–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ—Å–ª–µ –ø–æ–Ω–∏–∂–∞—é—â–µ–≥–æ 5–≤ |
| –®–∞—Ä—ã –¥–ª—è –∫—Ä–µ–ø–ª–µ–Ω–∏—è | [AliExpress](https://sl.aliexpress.ru/p?key=77D9GlK) | –®–∞—Ä–Ω–∏—Ä–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —Ç—è–≥–∏ |
| –§–ª–∞–Ω—Ü–µ–≤–∞—è –º—É—Ñ—Ç–∞ 6–º–º | [Ali](https://aliexpress.ru/item/1005006306920922.html) | –°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª—å –≤–∞–ª–∞ —Å —Ä—ã—á–∞–≥–æ–º |
| –í–∏–Ω—Ç –º3—Ö6 (3—à—Ç)| [Ali](https://aliexpress.ru/item/1005004567542471.html) |–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞ –∫ –∫–æ—Ä–ø—É—Å—É |
| –í–∏–Ω—Ç –º3—Ö6 (4—à—Ç) –ø–ª–æ—Å–∫–∞—è —à–ª—è–ø–∫–∞|-|–ö—Ä–µ–ø–ª–µ–Ω–∏–µ –º—É—Ñ—Ç—ã –∫ —Ä—ã—á–∞–≥—É |
| ESP32-C3/S3 | - | –ú–æ–∑–≥ —Å–∏—Å—Ç–µ–º—ã –Ω–∞ ESPHome |
| –ü–µ—á–∞—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ 3—Ö7 —Å–º | [Ozon](https://www.ozon.ru/product/pechatnaya-maketnaya-plata-3x7-sm-dvuhstoronnyaya-dlya-payki-gsmin-pcb1-10-shtuk-zelenyy-1220449711/) | –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–Ω—Ç–∞–∂–Ω–∞—è –ø–ª–∞—Ç–∞ |
| –ö–ª–µ–º–º—ã –≤–∏–Ω—Ç–æ–≤—ã–µ 2pin | - | –ö–ª–µ–º–º—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏—è |
| WS2812 (1—à—Ç) | - | –°–≤–µ—Ç–æ–¥–∏–æ–¥ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| –ö–Ω–æ–ø–∫–∏ (2—à—Ç) | [Ali](https://aliexpress.ru/item/4000245786194.html) | –ö–Ω–æ–ø–∫–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è |

## üõ†Ô∏è –°–±–æ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### üó∫Ô∏è–°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

<p align="center">
    <img src="images/schematic.png" alt="–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞" width="700">
</p>

### üìü–°–±–æ—Ä–∫–∞ –ø–ª–∞—Ç—ã

–ü–ª–∞—Ç–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –º–∞–∫–µ—Ç–Ω–æ–π –ø–ª–∞—Ç–µ 3x7 —Å–º —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –æ—Å–æ–±—ã—Ö —É—Å–ª–æ–≤–∏–π:
> - –ù–∞–¥–ø–∏—Å—å `30—Ö70–º–º` –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É –æ—Å–Ω–æ–≤–∞–Ω–∏—è
> - –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–æ–ª—è—Ü–∏—è –ø–æ–¥ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ AS5600 (VCC/OUT/GND) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ö–ó(–Ω–∞–ø—Ä–∏–º–µ—Ä –∫–∞–ø—Ç–æ–Ω–æ–≤—ã–π —Å–∫–æ—Ç—á). **–†–µ–∑–∏—Å—Ç–æ—Ä R1 –≤—ã–∫—É—Å–∏—Ç—å/–≤—ã–ø–∞—è—Ç—å**
> - –ù–∞ Mini360 –≤—ã—Å—Ç–∞–≤–∏—Ç—å 5–≤ —á–µ—Ä–µ–∑ –¥–∏–æ–¥ (–Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∑–∞—â–∏—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤–∫–ª—é—á–µ–Ω–∏—è –ë–ü –∏ USB)

<p align="center">
  <img src="images/board_top.jpg" width="280" alt="–í–µ—Ä—Ö –ø–ª–∞—Ç—ã">
  <img src="images/board_bottom.jpg" width="280" alt="–ù–∏–∑ –ø–ª–∞—Ç—ã">
  <img src="images/board_top2.jpg" width="280" alt="–í–µ—Ä—Ö –ø–ª–∞—Ç—ã 2">
</p>

### üöÄ 3D –º–æ–¥–µ–ª–∏ –∏ —Å–±–æ—Ä–∫–∞

–ú–æ–¥–µ–ª–∏ –¥–ª—è –ø–µ—á–∞—Ç–∏ –≤ –ø–∞–ø–∫–µ `models`.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—á–∞—Ç–∏:
- ABS
- 100% –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º
> - –î–ª—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏ –¥–ª–∏–Ω—ã —Ç—è–≥–∏ - –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–π—Ç–µ –º–æ–¥–µ–ª—å –≤ —Å–ª–∞–π—Å–µ—Ä–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–ª–∏–Ω—É

### ‚öñÔ∏è–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –º–∞–≥–Ω–∏—Ç–∞ –∏ —Å–µ–Ω—Å–æ—Ä–∞ AS5600
> - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫ –ø–∏—Ç–∞–Ω–∏—é
> - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–Ω–æ–ø–∫–∏ `Motor clockwise` `Motor counterclockwise` `Motor Stop` —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ—Ç–∫–Ω–æ –∏ –æ—Ç—Ä–µ–≥—É–ª–∏—Ä—É–π—Ç–µ –≤–∞–ª –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ —á—Ç–æ –±—ã —Ñ–∞—Å–∫–∞ —Å–º–æ—Ç—Ä–µ–ª–∞ –≤ —Å—Ç–æ—Ä–æ–Ω—É –º–æ—Ç–æ—Ä–∞, —ç—Ç–æ –∑–∞–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏ —Ä—ã—á–∞–≥ –≤ –∏—Ç–æ–≥–µ –≤ —Ç–∞–∫–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–∞–∫ –Ω–∞ —Ñ–æ—Ç–æ –Ω–∏–∂–µ.
> - –ú–∞–≥–Ω–∏—Ç –Ω–∞ –≤–∞–ª—É –æ—Ç–∫–∞–ª–∏–±—Ä—É–π—Ç–µ —Ä—É–∫–∞–º–∏ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ ~90¬∞ –ø–æ —Å–µ–Ω—Å–æ—Ä—É **Angle** –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø–ª–∞—Å—Ç–∏–∫ —Å –º–∞–≥–Ω–∏—Ç–æ–º –Ω–∞ –≤–∞–ª—É.

–ï—Å–ª–∏ –∫–Ω–æ–ø–∫–∏ `Motor clockwise` `Motor counterclockwise` —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç, —Ç–æ –≤—ã –æ—à–∏–±–ª–∏—Å—å –≤ –ø–∞–π–∫–æ–π, –ø–µ—Ä–µ–ø–∞—è–π—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –º–µ—Å—Ç–∞–º–∏ **pin_output_1** –∏ **pin_output_2**
<p align="center">
    <img src="images/device1.png" alt="–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" width="700">
    <img src="images/device-ready.jpg" alt="–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ" width="700">
</p>


## üéÆ –ü—Ä–æ—à–∏–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª: **[`dimvent.yaml`](dimvent.yaml)**

–í —Ñ–∞–π–ª–µ –≤ —à–∞–ø–∫–µ `substitutions` –∑–∞–º–µ–Ω–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.


| –û–±—ä–µ–∫—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| **Window** | –û—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–∫–Ω–æ–º (–æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å) |
| **Angle** | –¢–µ–∫—É—â–∏–π —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ –≤–∞–ª–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö |
| **Position** | –ü–æ–ª–æ–∂–µ–Ω–∏–µ –æ–∫–Ω–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (0% - –∑–∞–∫—Ä—ã—Ç–æ, 100% - –æ—Ç–∫—Ä—ã—Ç–æ) |
| **Power** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç—Ä–µ–±–ª—è–µ–º–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –º–æ—Ç–æ—Ä–∞ |
| **Unsuccessful attempts** | –°—á–µ—Ç—á–∏–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –¥–≤–∏–∂–µ–Ω–∏—è |
| **Attempts exceeded** | –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ |
| **Angle Closed Position** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø–æ–ª–æ–∂–µ–Ω–∏—è "–ó–∞–∫—Ä—ã—Ç–æ" |
| **Limit Closed +** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–∫–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö |
| **Limit Open +** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö |
| **Number repeat attempts** | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ |
| **Fix problem** | –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ –æ—à–∏–±–æ–∫ |
| **Motor clockwise** | –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ —á–∞—Å–æ–≤–æ–π |
| **Motor counterclockwise** | –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π |
| **Motor Stop** | –ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–≤–∏–≥–∞—Ç–µ–ª—è |
| **Speed** | –í—ã–±–æ—Ä —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã (High/Medium/Low) |
| **Angle Opening** | –£–≥–æ–ª –æ—Ç–∫—Ä—ã—Ç–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è 0-180 |

## üí° –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

- –û—Ç–∫–∞–ª–∏–±—Ä—É–π—Ç–µ **Angle Closed Position** –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –æ–∫–Ω–æ
- –í—ã—Å—Ç–∞–≤–∏—Ç–µ –≤ **Number repeat attempts** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **Limit Open/Closed** –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Speed** –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ –º–æ—â–Ω–æ—Å—Ç—å—é

---

**‚≠ê –ù—Ä–∞–≤–∏—Ç—Å—è –ø—Ä–æ–µ–∫—Ç? –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!**

---

The firmware source code in this repository is licensed under GPLv3. The hardware design files (schematics, 3d models) and documentation are licensed under Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0).
